import { DBEntity } from "./dbentity.mjs";

export class Professor extends DBEntity {
  constructor() {
    super("professors", "pid");
  }

  static async GetOrCreate(fullName) {
    const [first_name, last_name] = fullName.trim().split(" ");
    const prof = new Professor();
    const id = await prof.GetIDFromSetting(
      "name",
      `${first_name} ${last_name}`
    );
    if (id) {
      await prof.Get(id);
    } else {
      await prof.Create();
      await prof.SaveSettings({ name: `${first_name} ${last_name}` });
      await prof.SaveSetting("first_name", first_name);
      await prof.SaveSetting("last_name", last_name);
    }
    return prof;
  }
}
